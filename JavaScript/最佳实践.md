## 第28章 最佳实践

### 1. 可维护性

通常，说代码“可维护”就意味着它具备如下特点。

```
 容易理解：无须求助原始开发者，任何人一看代码就知道它是干什么的，以及它是怎么实现的。
 符合常识：代码中的一切都显得顺理成章，无论操作有多么复杂。
 容易适配：即使数据发生变化也不用完全重写。
 容易扩展：代码架构经过认真设计，支持未来扩展核心功能。
 容易调试：出问题时，代码可以给出明确的信息，通过它能直接定位问题。
```

#### 1.1 编码规范

##### 1.1.1 可读性

* 相同的缩进
* 代码注释

```
 函数和方法。每个函数和方法都应该有注释来描述其用途，以及完成任务所用的算法。同时，
也写清使用这个函数或方法的前提（假设）、每个参数的含义，以及函数是否返回值（因为通过
函数定义看不出来）。

 大型代码块。多行代码但用于完成单一任务的，应该在前面给出注释，把要完成的任务写清楚。

 复杂的算法。如果使用了独特的方法解决问题，要通过注释解释明白。这样不仅可以帮助别人
查看代码，也可以帮助自己今后查看代码。

 使用黑科技。由于浏览器之间的差异，JavaScript 代码中通常包含一些黑科技。不要假设其他人
一看就能明白某个黑科技是为了解决某个浏览器的什么问题。如果某个浏览器不能使用正常方式达到目的，那要在注释里把黑科技的用途写出来。这样可以避免别人误以为黑科技没有用而把它“修复”掉，结果你已解决的问题又会出现。
```

缩进和注释可以让代码更容易理解，将来也更容易维护

##### 1.1.2 变量和函数命名

```
 变量名应该是名词，例如 car 或 person。

 函数名应该以动词开始，例如 getName()。返回布尔值的函数通常以 is 开头，比如 isEnabled()。
 对变量和函数都使用符合逻辑的名称，不用担心长度。长名字的问题可以通过后处理和压缩解
决（本章稍后会讨论）。

 变量、函数和方法应该以小写字母开头，使用驼峰大小写（camelCase）形式，如 getName()和
isPerson。类名应该首字母大写，如 Person、RequestFactory。常量值应该全部大写并以
下划线相接，比如 REQUEST_TIMEOUT。

 名称要尽量用描述性和直观的词汇，但不要过于冗长。getName()一看就知道会返回名称，而
PersonFactory 一看就知道会产生某个 Person 对象或实体。

```

要完全避免没有用的变量名，如不能表示所包含数据的类型的变量名。通过适当命名，代码读起来
就会像故事，因此更容易理解。

#### 1.2 编码惯例

在企业开发中，非常重要的编码惯例就是尊重对象所有权，这意味着不要修改不属于你的对象。简
单来讲，如果你不负责创建和维护某个对象及其构造函数或方法，就不应该对其进行任何修改。更具体
一点说，就是如下惯例。

```
 不要给实例或原型添加属性。
 不要给实例或原型添加方法。
 不要重定义已有的方法。
```





